version: 1.1
kind: operation
name: tuning-rep-1-jobscount-1-polyaxon-3
termination:
  maxRetries: 10
matrix:
  kind: grid
  numRuns: 1
  concurrency: 1
  params:
    lr:
      kind: logspace
      value: 0.001:0.9:1
component:
  inputs:
    - name: lr
      type: float
  run:
    kind: job
    container:
      imagePullPolicy: IfNotPresent
      image: scaleme100/light_task_polyaxon
      resources:
        limits:
          cpu: 5m
        requests:
          cpu: 5m
      command: [python3, experiments/polyaxon_k8s/light_task_polyaxon/task.py]
      args: ["--batch-size=64", "--lr={{ lr }}"]
      env:
        - name: STUDY_NAME
          value: "tuning-rep-1-jobscount-1-polyaxon-3"
        - name: DB_CONN
          value: "postgresql://postgresadmin:admin123@postgres:5432/postgresdb"
        - name: "METRICS_STORAGE_HOST"
          value: "134.101.4.161"
